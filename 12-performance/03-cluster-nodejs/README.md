# README

## Reference

https://bhattaraib58.medium.com/make-nodejs-handle-5x-request-with-99-9-uptime-adding-10-lines-of-code-e264006d35cf

## With workers:

Running 3s warmup @ http://localhost:3000
1 connections

Running 10s test @ http://localhost:3000
500 connections

┌─────────┬──────┬──────┬───────┬───────┬─────────┬─────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev   │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼─────────┼────────┤
│ Latency │ 2 ms │ 7 ms │ 29 ms │ 44 ms │ 9.11 ms │ 9.91 ms │ 313 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴─────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 41887   │ 41887   │ 50271   │ 61119   │ 52083.2 │ 6212.88 │ 41871   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 5.32 MB │ 5.32 MB │ 6.39 MB │ 7.76 MB │ 6.61 MB │ 788 kB  │ 5.32 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘
┌──────┬────────┐
│ Code │ Count  │
├──────┼────────┤
│ 200  │ 520816 │
└──────┴────────┘

Req/Bytes counts sampled once per second.

521k requests in 10.04s, 66.1 MB read

## Without workers:

Running 10s test @ http://localhost:3000
500 connections

┌─────────┬──────┬──────┬───────┬───────┬─────────┬──────────┬────────┐
│ Stat    │ 2.5% │ 50%  │ 97.5% │ 99%   │ Avg     │ Stdev    │ Max    │
├─────────┼──────┼──────┼───────┼───────┼─────────┼──────────┼────────┤
│ Latency │ 1 ms │ 7 ms │ 32 ms │ 51 ms │ 9.09 ms │ 11.14 ms │ 328 ms │
└─────────┴──────┴──────┴───────┴───────┴─────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 36607   │ 36607   │ 51359   │ 61343   │ 52265.6 │ 6418.34 │ 36585   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 4.65 MB │ 4.65 MB │ 6.52 MB │ 7.79 MB │ 6.64 MB │ 815 kB  │ 4.65 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘

┌──────┬────────┐
│ Code │ Count  │
├──────┼────────┤
│ 200  │ 522647 │
└──────┴────────┘

Req/Bytes counts sampled once per second.

162k requests in 11.03s, 20.5 MB read


## With workers and having server errors:

Running 3s warmup @ http://localhost:3000
1 connections

Running 10s test @ http://localhost:3000
500 connections

┌─────────┬──────┬───────┬───────┬───────┬──────────┬──────────┬────────┐
│ Stat    │ 2.5% │ 50%   │ 97.5% │ 99%   │ Avg      │ Stdev    │ Max    │
├─────────┼──────┼───────┼───────┼───────┼──────────┼──────────┼────────┤
│ Latency │ 3 ms │ 15 ms │ 65 ms │ 90 ms │ 19.62 ms │ 18.08 ms │ 353 ms │
└─────────┴──────┴───────┴───────┴───────┴──────────┴──────────┴────────┘
┌───────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┬─────────┐
│ Stat      │ 1%      │ 2.5%    │ 50%     │ 97.5%   │ Avg     │ Stdev   │ Min     │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Req/Sec   │ 38495   │ 38495   │ 50591   │ 52031   │ 49232   │ 3812.17 │ 38467   │
├───────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┼─────────┤
│ Bytes/Sec │ 4.89 MB │ 4.89 MB │ 6.43 MB │ 6.61 MB │ 6.25 MB │ 485 kB  │ 4.89 MB │
└───────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┴─────────┘
┌──────┬────────┐
│ Code │ Count  │
├──────┼────────┤
│ 200  │ 492295 │
└──────┴────────┘

Req/Bytes counts sampled once per second.

494k requests in 10.04s, 62.5 MB read
653 errors (1 timeouts)
